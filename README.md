# 中国象棋在线对战游戏

一个功能丰富的在线中国象棋对战平台，支持实时多人游戏、房间系统和聊天功能。

### 开发方式：
完全使用 Claude Code进行开发，并使用的Claude Sonnet 4模型。
本人没有写一行代码。第一次交付就可以正常用，后来又改进并直接了一些功能。

## 🎯 特色功能

### 🏠 房间系统
- **房主权限管理** - 房主拥有最高权力，可以管理房间成员
- **双重游戏模式**
  - 🎮 **对战模式** - 两人对弈中国象棋
  - 👀 **观战模式** - 观看他人对局，学习棋艺
- **房间类型**
  - 🔓 **公开房间** - 任何人都可直接加入（加入公开房间可能也会提示密码，空着就行）
  - 🔐 **私密房间** - 需要密码验证才能进入

### 💬 实时聊天系统
- **公共聊天** - 房间内所有成员可参与讨论
- **私聊功能** - 支持一对一私密对话
- **聊天记录** - 后来加入的玩家也能查看历史聊天记录
- **成员管理** - 房主可禁言扰乱秩序的成员

### 🎲 游戏特性
- **标准中国象棋规则** - 完整实现所有棋子移动规则
- **智能防作弊** - 后端验证所有移动，拒绝非法操作
- **棋盘旋转** - 支持180度棋盘旋转，适应不同视角
- **移动提示** - 可视化箭头显示上一步棋的移动轨迹
- **自动登录** - Cookie记住用户名，免重复输入

### 📱 移动端适配
- **响应式设计** - 完美适配手机、平板等移动设备
- **触控优化** - 专门优化的触摸交互体验
- **自适应布局** - 根据屏幕尺寸自动调整界面布局

## 🚀 快速开始

### 环境要求
- Python 3.7+
- 现代浏览器（Chrome、Firefox、Safari、Edge、IE的可用性未知(^_^)...）

### 安装运行
1. 克隆项目到本地
```bash
git clone https://github.com/hitmux/hitcheese.git
cd hitcheese
```

2. 安装依赖并启动后端服务器
```bash
pip install -r requirements.txt
chmod +x start.sh
./start.sh
```

3. 打开浏览器访问 `http://localhost:8080`

## 🎮 使用指南

### 1. 用户登录
- 首次访问输入用户名
- 系统自动保存用户名，下次免登录

### 2. 创建房间
- 点击"创建房间"按钮
- 设置房间名称
- 选择公开或私密（需设置密码）
- 成为房主，获得管理权限

### 3. 加入房间
**方式一：房间列表**
- 点击"房间列表"浏览所有公开房间
- 选择心仪房间直接加入（对于公共房间，密码留空即可）

**方式二：房间号加入**
- 点击"加入房间"
- 输入6位房间号
- 私密房间需额外输入密码

### 4. 游戏操作
- **选择棋子** - 点击己方棋子选中
- **移动棋子** - 点击目标位置完成移动
- **棋盘旋转** - 点击旋转按钮调整视角
- **观看对局** - 非对弈玩家可观战学习

### 5. 聊天交流
- **公共聊天** - 在聊天框输入消息，所有人可见
- **私聊功能** - 点击成员列表中的"私聊"按钮
- **成员管理** - 房主可踢出或禁言成员

## 🏗️ 技术架构

### 前端技术
- **HTML5/CSS3** - 现代化界面设计
- **原生JavaScript** - 高性能游戏逻辑
- **WebSocket** - 实时双向通信
- **响应式设计** - 移动端完美适配

### 后端技术
- **Python** - 服务器端开发语言
- **WebSocket** - 实时消息传输
- **多线程处理** - 支持并发连接
- **规则引擎** - 智能棋局验证

### 安全特性
- **移动验证** - 后端验证每步棋的合法性
- **防作弊检测** - 自动拦截异常操作
- **用户隔离** - 房间间数据完全隔离

## 🛠️ 项目结构

```
/opt/game/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── script.js           # 前端逻辑
├── server.py           # WebSocket服务器
├── web_server.py       # HTTP服务器
└── README.md           # 项目说明
```

## 🎯 游戏规则

遵循标准中国象棋规则：
- **将/帅** - 只能在九宫内移动，不能面对面
- **士/仕** - 只能在九宫内斜向移动
- **象/相** - 田字移动，不能过河
- **马** - 日字移动，蹩马腿
- **车** - 直线移动，距离不限
- **炮** - 直线移动，吃子需隔一子
- **兵/卒** - 向前移动，过河可横移

## 🤝 贡献指南

欢迎提交问题报告和功能建议！

## 📜 开源协议

本项目采用 AGPLv3 协议开源。

---

**开始你的象棋之旅吧！** 🏁